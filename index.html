<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Expense Tracker</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container mt-5">
        <div class="row">
            <div class="col-lg-6 mx-auto">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Expense Tracker</h5>
                        <form id="expense-form" class="mb-4">
                            <input type="hidden" id="expenseId">
                            <div class="form-group">
                                <label for="expenseName">Expense Name</label>
                                <input type="text" class="form-control" id="expenseName" required>
                            </div>
                            <div class="form-group">
                                <label for="expenseAmount">Amount (Rs)</label>
                                <input type="number" class="form-control" id="expenseAmount" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Add Expense</button>
                        </form>
                        <ul class="list-group" id="expenseList">
                      
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


@RestController
@RequestMapping("/api/abc/universal")
public class UniversalController {

    private final Map<String, ChannelService> channelServices;

    public UniversalController(List<ChannelService> services) {
        this.channelServices = services.stream()
                .collect(Collectors.toMap(ChannelService::getChannelIdentifier, s -> s));
    }

    @PostMapping("/")
    public ResponseEntity<String> handleRequest(
            @RequestBody UniversalRequestDTO request) {

        String channelIdentifier = request.getChannelIdentifier();
        String channelCode = request.getChannelCode();
        Object data = request.getData();

        ChannelService service = channelServices.get(channelIdentifier.toUpperCase());
        if (service == null) {
            return ResponseEntity.badRequest().body("Unknown channelIdentifier");
        }

        try {
            service.process(channelCode, data);
            return ResponseEntity.ok("Processed successfully");
        } catch (IllegalArgumentException e) {
            return ResponseEntity.badRequest().body("Validation failed: " + e.getMessage());
        } catch (Exception e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)
                    .body("Processing error: " + e.getMessage());
        }
    }
}


	
---------------

package com.example.Universal.Controller;

import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.example.Universal.Service.ChannelService;

@RestController
@RequestMapping("/api/abcd")
public class UniversalController {

    private final Map<String, ChannelService> channelServices;

    public UniversalController(List<ChannelService> services) {
      
        this.channelServices = services.stream()
                .collect(Collectors.toMap(ChannelService::getChannelIdentifier, s -> s));
    }

    @PostMapping("/harsh")
    public ResponseEntity<String> handleRequest(@RequestBody Map<String, Object> request) {
        String channelIdentifier = (String) request.get("channelIdentifier");
        String channelCode = (String) request.get("channelCode");
        Object data = request.get("data");

        ChannelService service = channelServices.get(channelIdentifier.toUpperCase());
        if (service == null) {
            return ResponseEntity.badRequest().body("Unknown channelIdentifier");
        }

        try {
            service.process(channelCode, data);
            return ResponseEntity.ok("Processed successfully");
        } catch (IllegalArgumentException e) {
            return ResponseEntity.badRequest().body("Validation failed: " + e.getMessage());
        } catch (Exception e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)
                    .body("Processing error: " + e.getMessage());
        }
    }
}

------------------------
        package com.example.Universal.Service;

public interface ChannelService {
	   String getChannelIdentifier();      
	    void process(String channelCode, Object data);
}
-------------------
@RestController
@RequestMapping("/api/NE/universal")
public class UniversalController {

    private final Map<String, ChannelService> channelServices;

    // CONSTRUCTOR USING TRADITIONAL INDEXED FOR-LOOP
    public UniversalController(List<ChannelService> services) {
        this.channelServices = new HashMap<>();
        
        // Traditional loop: starts at 0, goes until the end of the list
        for (int i = 0; i < services.size(); i++) {
            // Get the service at the current position
            ChannelService s = services.get(i);
            
            // Extract the key and put the service into the map
            String identifier = s.getChannelIdentifier();
            this.channelServices.put(identifier, s);
        }
    }

    // ... rest of the handleRequest method remains the same
}

    
    <!-- Bootstrap and jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
